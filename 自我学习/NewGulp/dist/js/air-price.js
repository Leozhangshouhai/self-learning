var page={binding_click:function(){$(".airtickets-show-dd-box").on("click",function(){$(this).parent().siblings(".airtickets-show-dd").find(".airtickets-show-dd-detail").hide(),"none"===$(this).siblings(".airtickets-show-dd-detail").css("display")?$(this).siblings(".airtickets-show-dd-detail").show():$(this).siblings(".airtickets-show-dd-detail").hide()}),$(".airtickets-show-dd-detail-dd").on("click",function(){2==air_price.sign&&2==air_price.type?(Storage.set("json_plane_back",air_price.all_plane),Storage.set("json_plane_go_index",{I:$(this).attr("i"),J:$(this).attr("j")}),self.location.href="../pages/air-price.html?type=1&&sign=2&&yiorderid="+ZSH_Extent.getPostUrl("yiorderid")):("1"==air_price.type&&"2"==air_price.sign?air_price.plane_back_index={I:$(this).attr("i"),J:$(this).attr("j")}:air_price.plane_go_index={I:$(this).attr("i"),J:$(this).attr("j")},Storage.set("json_plane_order",air_price),"false"!=ZSH_Extent.getPostUrl("yiorderid")?self.location.href="../pages/air-order.html?yiorderid="+ZSH_Extent.getPostUrl("yiorderid"):self.location.href="../pages/air-order.html")})},change_click:function(){$(".fixed-choose").on("click",function(){var a;1==air_price.type&&2==air_price.sign?($("#airtickets-show-dl").empty(),a=air_price.bubbling_order(air_price.all_plane.secondFlightList,$(this).attr("name"))):($("#airtickets-show-dl").empty(),a=air_price.bubbling_order(air_price.all_plane.firstFlightList,$(this).attr("name"))),air_price.date_bind(a),$(this).addClass("choose-active").siblings(".fixed-choose").removeClass("choose-active")})},time_show:function(){var a=0;if(calendar.arr[6].sign>calendar.arr[0].sign){for(var e=0;e<calendar.arr.length;e++)if(calendar.arr[e].sign==calendar.arr[0].sign){var r='<dd class="time-show-dd" data-num='+e+'><p class="time-show-dd-date">'+calendar.arr[e].day+'</p><p class="time-show-dd-weekday">'+calendar.arr[e].weekday+"</p></dd>";a++,3==e&&(r='<dd class="time-show-dd time-show-dd-center" data-num='+e+'><p class="time-show-dd-date">'+calendar.arr[e].day+'</p><p class="time-show-dd-weekday">'+calendar.arr[e].weekday+"</p></dd>"),$(".time-show-dl").append(r)}else{var r='<dd class="time-show-dd1" data-num='+e+'><p class="time-show-dd-date">'+calendar.arr[e].day+'</p><p class="time-show-dd-weekday">'+calendar.arr[e].weekday+"</p></dd>";3==e&&(r='<dd class="time-show-dd1 time-show-dd-center" data-num='+e+'><p class="time-show-dd-date">'+calendar.arr[e].day+'</p><p class="time-show-dd-weekday">'+calendar.arr[e].weekday+"</p></dd>"),$(".time-show-dl1").append(r)}$(".time-show-dl").css("width",.95*parseFloat(a/7)*100+"%"),$(".time-show-dl1").css("width",95-.95*parseFloat(a/7)*100+"%"),$($(".time-show-dd-month")[0]).html(calendar.arr[0].month+"月"),calendar.arr[6].year==calendar.arr[0].year?$($(".time-show-dd-month")[1]).html(calendar.arr[6].month+"月"):$($(".time-show-dd-month")[1]).html(calendar.arr[6].year+"年"+calendar.arr[6].month+"月"),$(".time-show-dd").css("width",100*parseFloat(1/a)+"%"),$(".time-show-dd1").css("width",100*parseFloat(1/(7-a))+"%")}else{for(var d=0;d<calendar.arr.length;d++){var r='<dd class="time-show-dd" data-num='+d+'><p class="time-show-dd-date">'+calendar.arr[d].day+'</p><p class="time-show-dd-weekday">'+calendar.arr[d].weekday+"</p></dd>";3==d&&(r='<dd class="time-show-dd time-show-dd-center" data-num='+d+'><p class="time-show-dd-date">'+calendar.arr[d].day+'</p><p class="time-show-dd-weekday">'+calendar.arr[d].weekday+"</p></dd>"),$(".time-show-dl").append(r)}$(".time-show-dl").css("width","100%"),$($(".time-show-dd-month")[0]).html(calendar.arr[0].month+"月"),$(".time-show-dd").css("width",100*parseFloat(1/calendar.arr.length)+"%")}}},json={year:2016,month:12,weekday:"周四",day:31},calendar={montharr:[],arr:[],calendar_sign:0,init:function(a){calendar.arr[3]=a,calendar.arr.length=7,calendar.judgeDay(a)},judgeDay:function(a){calendar.judgeMonth(a.year);for(var e=0,r=0,d=0;d<7;d++){var t={},i=calendar.judgeWeek(a.weekday);if(3==d)calendar.arr[3].sign=this.calendar_sign;else if(d<3){t.day=a.day-(d+1),t.year=a.year,t.day<1?(t.month=a.month-1,t.month<1&&(t.year=a.year-1,t.month=12),t.sign=calendar.calendar_sign-1,r++,t.day=calendar.montharr[t.month-1]-r+1):(t.month=a.month,t.sign=calendar.calendar_sign);var s=calendar.judgeWeek(Math.abs(i-(d+1)+7)%7);t.weekday=s,calendar.arr[3-d-1]=t}else if(d>3){t.day=a.day+(d-3),t.year=a.year,t.day>calendar.montharr[a.month-1]?(t.month=a.month+1,t.month>12&&(t.month=1,t.year=a.year+1),t.sign=calendar.calendar_sign+1,e++,t.day=e):(t.month=a.month,t.sign=calendar.calendar_sign);var s=calendar.judgeWeek((i+(d-3))%7);t.weekday=s,calendar.arr[3+d-3]=t}}},judgeWeek:function(a){var e="";if("string"==typeof a){switch(a){case"周日":e=0;break;case"周一":e=1;break;case"周二":e=2;break;case"周三":e=3;break;case"周四":e=4;break;case"周五":e=5;break;case"周六":e=6}return Number(e)}switch(a){case 0:e="周日";break;case 1:e="周一";break;case 2:e="周二";break;case 3:e="周三";break;case 4:e="周四";break;case 5:e="周五";break;case 6:e="周六"}return e},judgeMonth:function(a){calendar.judgeYear(a)?calendar.montharr=[31,29,31,30,31,30,31,31,30,31,30,31]:calendar.montharr=[31,28,31,30,31,30,31,31,30,31,30,31]},judgeYear:function(a){return a%4==0&&(a%100!=0||a%400==0)}};