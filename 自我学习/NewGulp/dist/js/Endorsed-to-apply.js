function changeIp(e){getJson.get_endorsed.url=e+"hmp_website/yiplain/getrefundticketreason.json",getJson.get_refund.url=e+"hmp_website/yiplain/getrefundticketreason.json",getJson.send_refund.url=e+"hmp_website/yiplain/refundticketapply.json"}var data={Endorsed_selected:"",selected:"selected",refund_disable:!1,refund_disable_sonchoose:!1,isActive:!0,isActive2:!1,isClick:!1,list:[],refundList:[],refunListChoose:!1};Vue.component("sure-btn",{template:'<div class="make-sure-pay-box" ><button class="make-sure-pay" :disabled="disable" :class="selected" @click="someClick">确&nbsp;&nbsp;&nbsp;&nbsp;定</button></div>',props:["selected","disable"],methods:{someClick:function(){this.$emit("refund_click")}}});var container=new Vue({el:"#container",data:data,computed:{computedIsActive:function(){return!this.isActive}},methods:{chooseTitle:function(e){""===e.target.className&&(!0===this.isActive&&!1===this.isActive2?(this.refund_disable_sonchoose?this.refund_disable=!0:this.refund_disable=!1,this.isActive=!1,this.isActive2=!0,this.refunListChoose=!0,this.isClick?this.selected="selected":this.selected=""):(this.refund_disable=!1,getJson.send_refund.parameters.applyForReason="【旅客自愿退票】：已取消PNR编码；已作废行程单",this.isActive=!0,this.isActive2=!1,this.refunListChoose=!1,this.selected="selected"))},refund_click:function(){getJson.send_refund.parameters.outticketorderid=ZSH_Extent.getPostUrl("yiorderid"),Ajax_json(getJson.send_refund,changeIp)},endorse_click:function(){WebViewJavascriptBridge.callHandler("airPlaneChanged",{yiorderid:ZSH_Extent.getPostUrl("yiorderid")},function(e){})}},components:{"my-li":{template:'<div class="my-li-box" ><div @click="my_li" :id="index"><img :src="src" class="my-li-img" :id="index" > <label  :for="index" class="my-li-p" >{{ text}}</label> </div> </div>  ',props:["text","index"],data:function(){return{src:"../img/air/air-info-3.png"}},methods:{my_li:function(e){if(e.stopPropagation(),$(".my-li-img").attr("src","../img/air/air-info-3.png"),$(e.target).parent().find(".my-li-img").attr("src","../img/air/air-info-2.png"),getJson.send_refund.parameters.applyForReason=this.text,container.refund_disable_sonchoose=!0,container.refund_disable=!1,container.selected="selected",container.Endorsed_selected="selected",container.isClick=!0,"endorsed"===$(".header-chufa").attr("id")&&($(e.target).attr("id")||$(e.target).attr("for"))){var t=$(e.target).attr("id")||$(e.target).attr("for");Storage.set("endorsedReason",data.list[t])}}}}}}),getJson={get_endorsed:{url:"http://118.178.225.32/hmp_website/yiplain/getrefundticketreason.json",parameters:{type:"3"},success:function(e){console.log(e),data.list=e.body.list,$("#container").show()}},get_refund:{url:"http://118.178.225.32/hmp_website/yiplain/getrefundticketreason.json",parameters:{type:"1"},success:function(e){data.refundList=e.body.list,$("#container").show()}},send_refund:{url:"http://118.178.225.32/hmp_website/yiplain/refundticketapply.json",parameters:{applyForType:"1",outticketorderid:"JP2017042416301493022638034384",applyForReason:"【旅客自愿退票】：已取消PNR编码；已作废行程单"},success:function(e){"000000"===e.head.rtnCode&&ZSH_Extent.createLoading("退票已成功","index")},error:function(e){console.log(e),ZSH_Extent.createLoading(e.head.rtnMsg)}}};$(function(){Ajax_json(getJson.get_endorsed,changeIp),Ajax_json(getJson.get_refund,changeIp),$(".header-return").on("click",function(){history.go(-1)})});