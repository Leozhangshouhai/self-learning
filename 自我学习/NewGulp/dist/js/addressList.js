$(function(){function e(e){t.getddressList.url=e+"hmp_website/user/addresslist.json",t.deleteAddress.url=e+"hmp_website/user/deleteaddress.json",t.setInitAddress.url=e+"hmp_website/user/setdefaultaddress.json"}$("#container").css("visibility","visible");var s={isdefaultImg:["../img/air/address-01.png","../img/air/air-info-3.png"],addressinfo:[],controller:!0},t={getddressList:{url:"http://101.37.32.245/hmp_website/user/addresslist.json",parameters:{},success:function(e){console.log(e),"000000"===e.head.rtnCode&&(e.body.forEach(function(e,s){e.init=!1,e.isdefault&&(e.init=!0)}),s.addressinfo=e.body)},error:function(e){console.log(e),ZSH_Extent.createLoading(e.head.rtnMsg)}},deleteAddress:{url:"http://101.37.32.245/hmp_website/user/deleteaddress.json",parameters:{id:""},success:function(s){console.log(s),"000000"===s.head.rtnCode&&Ajax_json(t.getddressList,e)},error:function(e){console.log(e),ZSH_Extent.createLoading(e.head.rtnMsg)}},setInitAddress:{url:"http://101.37.32.245/hmp_website/user/setdefaultaddress.json",parameters:{id:""},success:function(e){console.log("默认地址"),console.log(e),e.head.rtnCode},error:function(e){console.log(e),ZSH_Extent.createLoading(e.head.rtnMsg)}}};Ajax_json(t.getddressList,e);new Vue({el:"#container",data:s,methods:{controllerClick:function(){this.controller=!this.controller,this.addressinfo.forEach(function(e,t){e.init=!s.controller})},chooseInit:function(r){var d=r;this.addressinfo.forEach(function(e,s){e.orderNum=2,e.isdefault=!1,s===d&&(e.orderNum=1,e.isdefault=!0)}),console.log(r+"  -------------"),t.setInitAddress.parameters.id=s.addressinfo[r].id,this.addressinfo=_.orderBy(this.addressinfo,"orderNum","ase"),Ajax_json(t.setInitAddress,e)},deleteAddress:function(r){ZSH_Extent.createCanleOrSure("确认删除该地址","",function(){t.deleteAddress.parameters.id=s.addressinfo[r].id,Ajax_json(t.deleteAddress,e)})},editAddress:function(e){self.location.href="../pages/addNewAddress.html?addressId="+s.addressinfo[e].id}}});$(".header-return-special").on("click",function(){self.location.href="../pages/air_info_confirm.html?sign=special"})});